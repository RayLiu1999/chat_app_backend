# ConfigMap - 非敏感配置
apiVersion: v1
kind: ConfigMap
metadata:
  name: chat-app-config
  namespace: chat-app
data:
  SERVER_PORT: "80"
  ENV: "development"
  SERVER_MAIN_DOMAIN: "localhost"
  SERVER_BASE_URL: "http://localhost"
  TIMEZONE: "Asia/Taipei"
  GIN_MODE: "debug"
  # MongoDB 連線 (使用 K8s 內部 DNS)
  MONGO_URI: "mongodb:27017"
  MONGO_DB_NAME: "chat_app"
  MONGO_AUTH_SOURCE: "admin"
  # Redis 連線 (使用 K8s 內部 DNS)
  REDIS_ADDR: "redis:6379"
  # Token 設定
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  REFRESH_TOKEN_EXPIRE_HOURS: "72"
  JWT_ACCESS_EXPIRE_HOURS: "24"
  JWT_REFRESH_EXPIRE_HOURS: "168"
  # 檔案上傳
  UPLOAD_MAX_SIZE: "10485760"
  UPLOAD_ALLOWED_TYPES: "image/jpeg,image/png,image/gif"
  # Go Runtime 效能調校參數
  GOMEMLIMIT: "460MiB" # 對應 limits.memory: 512Mi 的 90%
  GOMAXPROCS: "1" # 對應 limits.cpu: "1"

